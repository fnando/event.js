(function(){var e=false;var f=function(i){return i.replace(/ +/," ").split(" ")};var c=0;var d=function(k){var i=this;var j=i.events[k.type];var l=k.target;j.forEach(function(n){var o=n.context||i;if(typeof(n.selector)!=="string"){return n.callback.call(o,k)}var p=i.querySelectorAll(n.selector);var m=Array.prototype.some.call(p,function(q){return q===l});if(m){n.callback.call(o,k)}})};var h=function(i){document.on("readystatechange",function(j){if(document.readyState==="complete"&&!e){e=true;i.call(document,j)}});document.on("DOMContentLoaded",function(j){if(!e){e=true;i.call(document,j)}});window.on("load",function(j){if(!e){e=true;i.call(document,j)}})};var a=function(l,i,m,k){if(l==="transitionend"){l="transitionend webkitTransitionEnd oTransitionend MSTransitionEnd"}l=f(l);var j=this;if(l[0]==="ready"){return h(i)}if(!j.events){j.events={}}if(typeof(i)==="function"){k=m;m=i;i=null}l.forEach(function(n){if(!j.events[n]){j.events[n]=[];j.addEventListener(n,d)}m=k?m.bind(k):m;if(!m.guid){m.guid=(++c)}j.events[n].push({selector:i,callback:m})});return j};var g=function(k,i,l){k=f(k);var j=this;if(!j.events){return}if(typeof(i)==="function"){l=i;i=null}k.forEach(function(n){var m=j.events[n];if(!m){return}m.forEach(function(q,p){var o=(!i||i===q.selector)&&(!l||l.guid===q.callback.guid);o&&m.splice(p,1)});if(m.length===0){j.removeEventListener(n,d)}});return j};var b=function(j){var k=Array.prototype.slice.call(arguments,1);if(typeof(j)==="string"){var i=j;j=document.createEvent("HTMLEvents");j.initEvent(i,true,true)}j.data=k;this.dispatchEvent(j);return this};if(!Element.prototype.addEventListener){HTMLDocument.prototype.addEventListener=Element.prototype.addEventListener=Window.prototype.addEventListener=function(i,j){this.attachEvent("on"+i,function(k){k.target=k.srcElement;j.call(this,k)}.bind(this))};HTMLDocument.prototype.removeEventListener=Element.prototype.removeEventListener=Window.prototype.removeEventListener=function(i,j){this.detachEvent("on"+i,j)};HTMLDocument.prototype.dispatchEvent=Element.prototype.dispatchEvent=Window.prototype.dispatchEvent=function(i){this.fireEvent("on"+i.type,i)}}if(!document.createEvent){document.createEvent=function(){return document.createEventObject()};Event.prototype.initEvent=function(k,j,i){this.eventType=k;this.type=k;this.bubbles=j;this.cancelable=i}}if(!Event.prototype.stopPropagation){Event.prototype.stopPropagation=function(){this.cancelBubble=true};Event.prototype.preventDefault=function(){this.returnValue=false}}document.on=Window.prototype.on=Element.prototype.on=a;document.off=Window.prototype.off=Element.prototype.off=g;document.trigger=Window.prototype.trigger=Element.prototype.trigger=b})();